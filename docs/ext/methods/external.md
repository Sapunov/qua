## /external


- GET **/external** - списко всех ресурсов
- POST **/external** - добавление нового ресурса
- GET **/external/&lt;int:external_id&gt;** - возвращает внешний ресурс по `external_id`
- DELETE **/external/&lt;int:external_id&gt;** - удаление внешнего ресурса по `external_id`
- POST **/external/bulk** - добавление нескольких внешних ресурсов за один раз


### `GET` /external

Без параметров выдает список внешних ресурсов в порядке добавления

**Параметры:**
- **limit** - количество внешних ресурсов для вывода (по умолчанию: 10)
- **offset** - сдвиг относительно начала выдачи ресурсов (по умолчанию: 0)

**Формат ответа**:

```json
{
    "items": [],
    "total": <int>,
    "pagination": {}
}
```

Каждый *item* имеет следующие поля:

```json
{
    "created_at": <string>"2017-01-14T09:51:52.428555Z",
    "created_by": {
		"first_name": <string>,
		"id": <int>,
		"last_name": <string>,
		"username": <string>
	},
    "hostname": <string>,
    "id": <int>,
    "scheme": <string>,
    "title": <string>,
    "updated_at": <string>"2017-01-14T09:51:52.428555Z",
    "updated_by": {
		"first_name": <string>,
		"id": <int>,
		"last_name": <string>,
		"username": <string>
	},
    "url": <string>
}
```

Объект *pagination* содержит 2 ссылки:

```json
{
	"next":"/api/questions?offset=20&limit=10",
    "prev":"/api/questions?offset=10&limit=10"
}
```


### `POST` /external

Добавление нового ресурса. У метода нет параметров

**Формат данных для добавления ресурса:**

```json
{
    "url": <stirng>
}
```

**Формат ответа:**

В качестве ответа вернется полный документ внешнего ресурса


### `GET` /external/&lt;int:external_id&gt;

Возвращает документ ресурса. У метода нет параметров


### `DELETE` /external/&lt;int:external_id&gt;

Удаляет данный ресурс. У метода нет параметров.


### `POST` /external/bulk

добавление нескольких внешних ресурсов за один раз. У метода нет дополнительных параметров

**Формат данных для добавления ресурсов:**

```json
{
    [
        {
            "url": <string>
        }
    ]
}
```

То есть метод принимает список объектов с единственным полем `url`.


**Формат ответа:**

Если метод не вернет никаких ошибок, то будет возвращен список с объектами, у которых будет 2 поля.

```json
{
    [
        {
            "status": <string>,
            "url": <string>
        }
    ]
}
```

Поле `status` может принимать 2 значения:
- *exists* - значит ресурс уже существует в системе и не будет обработан
- *queued* - означает, что ресурс добавлен в очередь на добавление в систему. Через некоторое время он будет добавлен и проиндексирован
