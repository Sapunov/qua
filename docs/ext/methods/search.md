## /search


- GET **/search** - поиск по введенному тексу


### `GET` /search

**Параметры:**

- **query** - текст запроса
- **spelling** - включена или выключена коррекция запроса (по умолчанию включена)
- **limit** - сколько результатов должно быть получено
- **offset** - сдвиг относительно начала набора результатов


**Формат ответа:**

```json
{
	"hits": [],
	"query": <string>,
	"total": <int>,
	"took": <float>,
	"suggested_query": <string>,
	"pagination": {}
}
```

Каждый **hit** представляет собой объект с 4 обязательными полями и неограниченный количеством специфичных для сервиса полей. Например, поля микросервиса *search* описаны на этой странице - [метод search](../../search/methods/search.md)

Обязательные поля:

```json
{
    "_type": "<string>",
    "_item_id": "<string>",
    "_score": <float>,
    "_loc": <string>
}
```

Подробное описание назначения этих полей на странице [поисковых сервисов](../search_services.md)

> В поисковом **hit** исключение составляют поля **url**, **url_params** и **resource**.
> Сам микросервис поиска отдает в поле **resource** ссылку на ресурс или *null* для
> внутренних вопросов. Однако, после прохождения блендера в поле **resource**
> остаёется лишь домен(если там был url) и появляется поле **url** со ссылкой
> на страницу редиректа и специальными GET-параметрами, или **url_params**, если
> вопрос внутренний.


Поле **query** - это тот запрос, который ввел пользователь.

Поле **total** - примерное количество результатов, которые поисковый механизм нашел всего.

Поле **took** - количество времени в секундах, которые понадобились блендеру для того, чтобы собрать ответы от всех поисковых механизмов, зарегистрированных в системе.

Поле **suggested_query** - предлагаемый системой исправления ошибок запрос. Если данное поле не `null`, значит система уже произвела поиска по данному вопросу. Исправления запросов производитеся с использованием сервиса *search*. На странице [исправление запросов](../../search/spelling_correction.md) есть более подробная информация о логике работы системы.

Поле **pagination** содержит 2 ссылки или 2 значения `null`, если не нашлось несколько страниц. Более подробно на странице про (pagination)[../pagination.md]

